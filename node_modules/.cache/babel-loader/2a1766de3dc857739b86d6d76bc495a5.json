{"ast":null,"code":"import _regeneratorRuntime from \"/home/kryo/Desktop/ReduxToolkit_TodoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/kryo/Desktop/ReduxToolkit_TodoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice, createAsyncThunk, nanoid } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport var getTodo = createAsyncThunk(\"todos/todosFetched\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var res;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return axios.get(\"http://localhost:3001/todos\");\n\n        case 2:\n          res = _context.sent;\n          return _context.abrupt(\"return\", res.data);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})));\nexport var addTodo = createAsyncThunk(\"todos/todosAdded\", /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(title) {\n    var newTodo;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            newTodo = {\n              id: nanoid(),\n              title: title,\n              completed: false\n            }; // await axios.get(\"https://jsonplaceholder.typicode.com/todos\", newTodo);\n\n            _context2.next = 3;\n            return axios.post(\"http://localhost:3001/todos\", newTodo);\n\n          case 3:\n            return _context2.abrupt(\"return\", newTodo);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var removeTodo = createAsyncThunk(\"todos/todosRemove\", /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n    var deleteTodo;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            deleteTodo = {\n              id: id\n            }; // await axios.get(\"https://jsonplaceholder.typicode.com/todos\", newTodo);\n\n            _context3.next = 3;\n            return axios.delete(\"http://localhost:3001/todos/\" + id, deleteTodo);\n\n          case 3:\n            return _context3.abrupt(\"return\", {\n              id: id\n            });\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar todosSlice = createSlice({\n  name: \"todos\",\n  initialState: {\n    allTodos: []\n  },\n  reducers: {\n    addTodos: {\n      reducer: function reducer(state, action) {\n        state.allTodos.unshift(action.payload);\n      },\n      prepare: function prepare(title) {\n        return {\n          payload: {\n            id: nanoid(),\n            title: title,\n            completed: false\n          }\n        };\n      }\n    },\n    removeTodos: function removeTodos(state, action) {\n      var id = action.payload;\n      state.allTodos = state.allTodos.filter(function (todo) {\n        return todo.id !== id;\n      });\n    },\n    markComplete: function markComplete(state, action) {\n      var id = action.payload;\n      state.allTodos = state.allTodos.map(function (todo) {\n        if (todo.id === id) {\n          todo.completed = !todo.completed;\n        }\n\n        return todo;\n      });\n    }\n  },\n  extraReducers: {\n    // Get all todos\n    [getTodo.pending]: function (state, action) {\n      console.log(\"Fetching todos from backend ....\");\n    },\n    [getTodo.fulfilled]: function (state, action) {\n      console.log(\"Done\");\n      state.allTodos = action.payload;\n    },\n    [addTodo.pending]: function (state, action) {\n      console.log(\"try add todo\");\n    },\n    [addTodo.fulfilled]: function (state, action) {\n      var title = action.payload;\n      console.log(\"added\" + title);\n      state.allTodos.unshift(title);\n    },\n    [removeTodo.pending]: function (state, action) {\n      console.log(\"try delete todo\");\n    },\n    [removeTodo.fulfilled]: function (state, action) {\n      var id = action.payload;\n      console.log(\"deleted\" + id); // state.allTodos.unshift(id);\n    }\n  }\n}); //Export selector\n\nexport var todosSelector = function todosSelector(state) {\n  return state.allTodos;\n}; //Export action\n\nvar _todosSlice$actions = todosSlice.actions,\n    addTodos = _todosSlice$actions.addTodos,\n    removeTodos = _todosSlice$actions.removeTodos,\n    markComplete = _todosSlice$actions.markComplete; //Export reducer\n\nexport { addTodos, removeTodos, markComplete };\nexport default todosSlice.reducer;","map":{"version":3,"sources":["/home/kryo/Desktop/ReduxToolkit_TodoApp/src/Store/Reducer/todoSlice.js"],"names":["createSlice","createAsyncThunk","nanoid","axios","getTodo","get","res","data","addTodo","title","newTodo","id","completed","post","removeTodo","deleteTodo","delete","todosSlice","name","initialState","allTodos","reducers","addTodos","reducer","state","action","unshift","payload","prepare","removeTodos","filter","todo","markComplete","map","extraReducers","pending","console","log","fulfilled","todosSelector","actions"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk, nanoid } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const getTodo = createAsyncThunk(\"todos/todosFetched\", async () => {\r\n  // const res = await axios.get(\r\n  //   \"https://jsonplaceholder.typicode.com/todos?_limit=5\"\r\n  // );\r\n  const res = await axios.get(\"http://localhost:3001/todos\");\r\n  return res.data;\r\n});\r\n\r\nexport const addTodo = createAsyncThunk(\"todos/todosAdded\", async (title) => {\r\n  const newTodo = {\r\n    id: nanoid(),\r\n    title: title,\r\n    completed: false,\r\n  };\r\n  // await axios.get(\"https://jsonplaceholder.typicode.com/todos\", newTodo);\r\n  await axios.post(\"http://localhost:3001/todos\", newTodo);\r\n  return newTodo;\r\n});\r\n\r\nexport const removeTodo = createAsyncThunk(\"todos/todosRemove\", async (id) => {\r\n  const deleteTodo = {\r\n    id: id,\r\n  };\r\n  // await axios.get(\"https://jsonplaceholder.typicode.com/todos\", newTodo);\r\n  await axios.delete(\"http://localhost:3001/todos/\" + id, deleteTodo);\r\n\r\n  // state.allTodos = state.allTodos.filter((todo) => {\r\n  //   return todo.id !== id;\r\n  // });\r\n  return { id };\r\n});\r\n\r\nconst todosSlice = createSlice({\r\n  name: \"todos\",\r\n  initialState: {\r\n    allTodos: [],\r\n  },\r\n  reducers: {\r\n    addTodos: {\r\n      reducer: (state, action) => {\r\n        state.allTodos.unshift(action.payload);\r\n      },\r\n      prepare: (title) => {\r\n        return {\r\n          payload: { id: nanoid(), title: title, completed: false },\r\n        };\r\n      },\r\n    },\r\n    removeTodos: (state, action) => {\r\n      const id = action.payload;\r\n      state.allTodos = state.allTodos.filter((todo) => {\r\n        return todo.id !== id;\r\n      });\r\n    },\r\n    markComplete: (state, action) => {\r\n      const id = action.payload;\r\n      state.allTodos = state.allTodos.map((todo) => {\r\n        if (todo.id === id) {\r\n          todo.completed = !todo.completed;\r\n        }\r\n        return todo;\r\n      });\r\n    },\r\n  },\r\n  extraReducers: {\r\n    // Get all todos\r\n    [getTodo.pending]: (state, action) => {\r\n      console.log(\"Fetching todos from backend ....\");\r\n    },\r\n    [getTodo.fulfilled]: (state, action) => {\r\n      console.log(\"Done\");\r\n      state.allTodos = action.payload;\r\n    },\r\n    [addTodo.pending]: (state, action) => {\r\n      console.log(\"try add todo\");\r\n    },\r\n    [addTodo.fulfilled]: (state, action) => {\r\n      const title = action.payload;\r\n      console.log(\"added\" + title);\r\n      state.allTodos.unshift(title);\r\n    },\r\n    [removeTodo.pending]: (state, action) => {\r\n      console.log(\"try delete todo\");\r\n    },\r\n    [removeTodo.fulfilled]: (state, action) => {\r\n      const id = action.payload;\r\n      console.log(\"deleted\" + id);\r\n      // state.allTodos.unshift(id);\r\n    },\r\n  },\r\n});\r\n\r\n//Export selector\r\nexport const todosSelector = (state) => state.allTodos;\r\n//Export action\r\nexport const { addTodos, removeTodos, markComplete } = todosSlice.actions;\r\n//Export reducer\r\nexport default todosSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}